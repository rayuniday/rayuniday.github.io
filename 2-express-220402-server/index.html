<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>RAYUN's TIL(Today I Learned)</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="개발자 라윤의 TIL(Today I Learned)입니다."><meta data-n-head="ssr" name="format-detection" content="telephone=no"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/planet.png"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Gugi&display=swap"><link rel="preload" href="/_nuxt/0d858e3.js" as="script"><link rel="preload" href="/_nuxt/960bec5.js" as="script"><link rel="preload" href="/_nuxt/b5af4e1.js" as="script"><link rel="preload" href="/_nuxt/0bac3da.js" as="script"><link rel="preload" href="/_nuxt/58ef95b.js" as="script"><style data-vue-ssr-id="fa7ff0ca:0 0e80fc16:0 be47691e:0">.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}pre code.hljs[data-v-29962fe6]{display:block;overflow-x:auto;padding:1em}code.hljs[data-v-29962fe6]{padding:3px 5px}.hljs[data-v-29962fe6]{color:#abb2bf;background:#282c34}.hljs-comment[data-v-29962fe6],.hljs-quote[data-v-29962fe6]{color:#5c6370;font-style:italic}.hljs-doctag[data-v-29962fe6],.hljs-formula[data-v-29962fe6],.hljs-keyword[data-v-29962fe6]{color:#c678dd}.hljs-deletion[data-v-29962fe6],.hljs-name[data-v-29962fe6],.hljs-section[data-v-29962fe6],.hljs-selector-tag[data-v-29962fe6],.hljs-subst[data-v-29962fe6]{color:#e06c75}.hljs-literal[data-v-29962fe6]{color:#56b6c2}.hljs-addition[data-v-29962fe6],.hljs-attribute[data-v-29962fe6],.hljs-meta .hljs-string[data-v-29962fe6],.hljs-regexp[data-v-29962fe6],.hljs-string[data-v-29962fe6]{color:#98c379}.hljs-attr[data-v-29962fe6],.hljs-number[data-v-29962fe6],.hljs-selector-attr[data-v-29962fe6],.hljs-selector-class[data-v-29962fe6],.hljs-selector-pseudo[data-v-29962fe6],.hljs-template-variable[data-v-29962fe6],.hljs-type[data-v-29962fe6],.hljs-variable[data-v-29962fe6]{color:#d19a66}.hljs-bullet[data-v-29962fe6],.hljs-link[data-v-29962fe6],.hljs-meta[data-v-29962fe6],.hljs-selector-id[data-v-29962fe6],.hljs-symbol[data-v-29962fe6],.hljs-title[data-v-29962fe6]{color:#61aeee}.hljs-built_in[data-v-29962fe6],.hljs-class .hljs-title[data-v-29962fe6],.hljs-title.class_[data-v-29962fe6]{color:#e6c07b}.hljs-emphasis[data-v-29962fe6]{font-style:italic}.hljs-strong[data-v-29962fe6]{font-weight:700}.hljs-link[data-v-29962fe6]{text-decoration:underline}footer[data-v-29962fe6]{margin-top:30px;border-top:1px solid rgba(0,0,0,.1);display:flex;height:60px;align-items:center}footer a[data-v-29962fe6]{color:#ff7d7d;display:block;width:50%;padding:10px}footer a[data-v-29962fe6]:last-child{text-align:right}*{box-sizing:border-box;text-decoration:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}body{margin:0}aside{position:fixed;top:0;border-right:1px solid rgba(0,0,0,.1);overflow-y:auto;height:100%;z-index:1;width:300px;background:#fff;color:#000333}@media screen and (max-width:800px){aside{position:inherit}}aside a{color:#000333;font-weight:400}aside a.isActive,aside a:hover{color:#ff7d7d}aside header{padding-top:30px}@media screen and (max-width:800px){aside header{top:0;display:flex;padding:0;height:60px;align-items:center;position:fixed;width:100%;background:#fff;border-bottom:1px solid rgba(0,0,0,.1);z-index:1}}aside header img{width:20px;cursor:pointer;margin-left:20px;margin-right:20px;display:none}@media screen and (max-width:800px){aside header img{display:block}}aside header a{display:block;text-align:center;font-size:1.3rem}aside nav{margin-top:20px;margin-bottom:20px;margin-right:20px}@media screen and (max-width:800px){aside nav{position:fixed;width:300px;border-right:1px solid rgba(0,0,0,.1);height:100%;top:60px;overflow-y:auto;margin:0;padding-right:20px;z-index:1;background:#fff}aside nav.isActive{display:none}}aside nav ul{list-style:none;padding:0;margin:0 0 0 20px}aside nav ul li{line-height:1.4}aside nav ul li a{display:block;margin-bottom:7px}aside nav ul p{font-weight:700;font-size:1.1rem;padding:0;margin:20px 0 8px}main{margin:0;padding-left:300px}@media screen and (max-width:800px){main{padding:60px 0 0}}main section{max-width:900px;margin:0 auto;padding:20px}main section h1{font-family:Gugi,cursive;font-size:5rem;border-bottom:17px solid #ff7d7d}</style><link rel="preload" href="/_nuxt/static/1649105225/2-express-220402-server/state.js" as="script"><link rel="preload" href="/_nuxt/static/1649105225/2-express-220402-server/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1649105225/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="post__container" data-v-29962fe6><aside data-v-29962fe6><header><img src="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0idy02IGgtNiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTQgNmgxNk00IDEyaDE2TTQgMThoMTYiPjwvcGF0aD48L3N2Zz4="> <a href="/">RAYUN's TIL</a></header> <nav class="isActive"><ul><li><p>2022년 Today I Learned</p> <ul><li><a href="/0-2022-today-i-learned">
              
            </a> <!----></li></ul></li><li><p>Project : 오늘 뭐 먹지?</p> <ul><li><a href="/1-project-220405-fridge-recipe">
              220405 개발 1일차
            </a> <!----></li></ul></li><li><p>Express</p> <ul><li><a href="/2-express-220401-setup">
              환경 설정
            </a> <!----></li><li><a href="/2-express-220402-server" aria-current="page" class="nuxt-link-exact-active nuxt-link-active isActive">
              서버 구축
            </a> <ul><li class="toc"><a href="/2-express-220402-server#srcserverjs">
                  src/server.js
                </a></li><li class="toc"><a href="/2-express-220402-server#get-requests">
                  GET Requests
                </a></li><li class="toc"><a href="/2-express-220402-server#responses">
                  Responses
                </a></li><li class="toc"><a href="/2-express-220402-server#middlewares">
                  Middlewares
                </a></li><li class="toc"><a href="/2-express-220402-server#external-middlewares">
                  External Middlewares
                </a></li></ul></li><li><a href="/2-express-220403-router">
              라우터(Router)
            </a> <!----></li><li><a href="/2-express-220404-mongo">
              MongoDB와 연결
            </a> <!----></li></ul></li><li><p>Music : Cover</p> <ul><li><a href="/7-music-cover-7-pop">
              POP
            </a> <!----></li><li><a href="/7-music-cover-8-ost">
              OST
            </a> <!----></li><li><a href="/7-music-cover-9-newage">
              뉴에이지
            </a> <!----></li></ul></li><li><p>Music : 클래식 피아노</p> <ul><li><a href="/8-music-classic-piano-beyer">
              바이엘
            </a> <!----></li><li><a href="/8-music-classic-piano-czerny">
              체르니 100 (Op.139)
            </a> <!----></li></ul></li><li><p>Music : 기타 연습</p> <ul><li><a href="/8-music-guitar">
              1일차
            </a> <!----></li></ul></li><li><p>Book</p> <ul><li><a href="/9-book-220401-twenty-ninth-birthday-decided">
              스물아홉 생일, 1년 후 죽기로 결심했다
            </a> <!----></li><li><a href="/9-book-220403-things-regret-now">
              지금 저지르지 않으면 후회할 일들
            </a> <!----></li><li><a href="/9-book-220404-things-knowing-regret">
              후회할 줄 알면서 저지르는 일들
            </a> <!----></li><li><a href="/9-book-220405">
              생각이 너무 많은 서른 살에게
            </a> <!----></li></ul></li><li><p>undefined</p> <ul><li><a href="/native-expo-cli">
              
            </a> <!----></li><li><a href="/nuxt-basic">
              
            </a> <!----></li><li><a href="/nuxt-content">
              
            </a> <!----></li><li><a href="/nuxt-sass">
              
            </a> <!----></li><li><a href="/react-basic">
              
            </a> <!----></li><li><a href="/scraping-request-bs4">
              
            </a> <!----></li><li><a href="/vue-220401-bottom-top">
              
            </a> <!----></li><li><a href="/vue-cli">
              
            </a> <!----></li></ul></li></ul></nav></aside> <main data-v-29962fe6><section data-v-29962fe6><h1 data-v-29962fe6>서버 구축</h1> <div class="nuxt-content" data-v-29962fe6 data-v-29962fe6><h2 id="srcserverjs" data-v-29962fe6 data-v-29962fe6><a aria-hidden="true" href="#srcserverjs" tabindex="-1" data-v-29962fe6 data-v-29962fe6><span class="icon icon-link" data-v-29962fe6 data-v-29962fe6></span></a>src/server.js</h2>
<div class="nuxt-content-highlight" data-v-29962fe6 data-v-29962fe6><pre data-v-29962fe6 data-v-29962fe6><code class="hljs js" data-v-29962fe6 data-v-29962fe6><span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>import</span> express <span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>from</span> <span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"express"</span>;

<span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> <span class="hljs-variable constant_" data-v-29962fe6 data-v-29962fe6>PORT</span> = <span class="hljs-number" data-v-29962fe6 data-v-29962fe6>4000</span>;

<span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> app = <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>express</span>();

<span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>handleListening</span> = (<span class="hljs-params" data-v-29962fe6 data-v-29962fe6></span>) =>
  <span class="hljs-variable language_" data-v-29962fe6 data-v-29962fe6>console</span>.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>log</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>`Server listening on port http://localhost:<span class="hljs-subst" data-v-29962fe6 data-v-29962fe6>${PORT}</span>`</span>);

app.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>listen</span>(<span class="hljs-variable constant_" data-v-29962fe6 data-v-29962fe6>PORT</span>, handleListening);
</code></pre></div>
<h2 id="get-requests" data-v-29962fe6 data-v-29962fe6><a aria-hidden="true" href="#get-requests" tabindex="-1" data-v-29962fe6 data-v-29962fe6><span class="icon icon-link" data-v-29962fe6 data-v-29962fe6></span></a>GET Requests</h2>
<p data-v-29962fe6 data-v-29962fe6>서버끼리 의사소통 하는 방법이 http<br data-v-29962fe6 data-v-29962fe6>
http request는 웹사이트에 접속하고 서버에 정보를 보내는 방법<br data-v-29962fe6 data-v-29962fe6>
GET은 http method 중 하나<br data-v-29962fe6 data-v-29962fe6>
브라우저는 웹사이트를 request하고, 페이지를 가져다 준다</p>
<div class="nuxt-content-highlight" data-v-29962fe6 data-v-29962fe6><pre data-v-29962fe6 data-v-29962fe6><code class="hljs js" data-v-29962fe6 data-v-29962fe6><span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>handleHome</span> = (<span class="hljs-params" data-v-29962fe6 data-v-29962fe6>req, res</span>) => {
  <span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>return</span> res.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>send</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"I still love you."</span>);
};

app.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>get</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"/"</span>, handleHome);
</code></pre></div>
<h2 id="responses" data-v-29962fe6 data-v-29962fe6><a aria-hidden="true" href="#responses" tabindex="-1" data-v-29962fe6 data-v-29962fe6><span class="icon icon-link" data-v-29962fe6 data-v-29962fe6></span></a>Responses</h2>
<ul data-v-29962fe6 data-v-29962fe6>
<li data-v-29962fe6 data-v-29962fe6>req : request object - 브라우저가 뭔가를 요청, 쿠키나 method 같은 정보를 얻을 수 있음</li>
<li data-v-29962fe6 data-v-29962fe6>res : response object - 응답
<ul data-v-29962fe6 data-v-29962fe6>
<li data-v-29962fe6 data-v-29962fe6>res.end() : 그냥 끝내버림, request 종료</li>
<li data-v-29962fe6 data-v-29962fe6>res.send() : 메세지를 보냄, 응답</li>
</ul>
</li>
</ul>
<div class="nuxt-content-highlight" data-v-29962fe6 data-v-29962fe6><pre data-v-29962fe6 data-v-29962fe6><code class="hljs js" data-v-29962fe6 data-v-29962fe6><span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>handleHome</span> = (<span class="hljs-params" data-v-29962fe6 data-v-29962fe6>req, res</span>) => {
  <span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>return</span> res.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>send</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"&lt;h1>I still love you.&lt;/h1>"</span>);
};

<span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>handleLogin</span> = (<span class="hljs-params" data-v-29962fe6 data-v-29962fe6>req, res</span>) => {
  <span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>return</span> res.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>send</span>({ <span class="hljs-attr" data-v-29962fe6 data-v-29962fe6>message</span>: <span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"Login here."</span> });
};

app.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>get</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"/"</span>, handleHome);
app.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>get</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"/login"</span>, handleLogin);
</code></pre></div>
<h2 id="middlewares" data-v-29962fe6 data-v-29962fe6><a aria-hidden="true" href="#middlewares" tabindex="-1" data-v-29962fe6 data-v-29962fe6><span class="icon icon-link" data-v-29962fe6 data-v-29962fe6></span></a>Middlewares</h2>
<p data-v-29962fe6 data-v-29962fe6>브라우저가 뭔가를 request하면, 서버는 거기에 응답해준다<br data-v-29962fe6 data-v-29962fe6>
middleware : middle software - 중간에 있는 소프트웨어</p>
<ul data-v-29962fe6 data-v-29962fe6>
<li data-v-29962fe6 data-v-29962fe6>middleware는 request와 response 사이에 있음</li>
<li data-v-29962fe6 data-v-29962fe6>브라우저가 request한 다음, 그리고 응답하기 전. 그 사이에 middleware</li>
</ul>
<p data-v-29962fe6 data-v-29962fe6>모든 middleware는 handler, 모든 handler는 middleware<br data-v-29962fe6 data-v-29962fe6>
handler는 controller<br data-v-29962fe6 data-v-29962fe6>
모든 controller는 middleware<br data-v-29962fe6 data-v-29962fe6>
controller에는 두 개의 argument 말고도 하나가 더 있음 : next<br data-v-29962fe6 data-v-29962fe6>
next argument : 다음 함수를 호출</p>
<div class="nuxt-content-highlight" data-v-29962fe6 data-v-29962fe6><pre data-v-29962fe6 data-v-29962fe6><code class="hljs js" data-v-29962fe6 data-v-29962fe6><span class="hljs-comment" data-v-29962fe6 data-v-29962fe6>//middleware</span>
<span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>gossipMiddleware</span> = (<span class="hljs-params" data-v-29962fe6 data-v-29962fe6>req, res, next</span>) => {
  <span class="hljs-variable language_" data-v-29962fe6 data-v-29962fe6>console</span>.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>log</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>`Someone is going to: <span class="hljs-subst" data-v-29962fe6 data-v-29962fe6>${req.url}</span>`</span>);
  <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>next</span>();
};

<span class="hljs-comment" data-v-29962fe6 data-v-29962fe6>//controller</span>
<span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>handleHome</span> = (<span class="hljs-params" data-v-29962fe6 data-v-29962fe6>req, res</span>) => {
  <span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>return</span> res.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>send</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"I still love you."</span>);
};

app.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>get</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"/"</span>, gossipMiddleware, handleHome);
</code></pre></div>
<p data-v-29962fe6 data-v-29962fe6>함수가 next 함수를 호출한다면, 이 함수는 middleware라는 걸 의미<br data-v-29962fe6 data-v-29962fe6>
get은 path를 필요, path는 URL<br data-v-29962fe6 data-v-29962fe6>
handler는 다수의 handler를 사용할 수 있음</p>
<p data-v-29962fe6 data-v-29962fe6>middleware</p>
<ul data-v-29962fe6 data-v-29962fe6>
<li data-v-29962fe6 data-v-29962fe6>request에 응답하지 않고, request를 지속</li>
<li data-v-29962fe6 data-v-29962fe6>작업을 다음 함수에게 넘기는 함수</li>
<li data-v-29962fe6 data-v-29962fe6>필요한 만큼 만들 수 있음</li>
<li data-v-29962fe6 data-v-29962fe6>사람들이 웹사이트의 어디를 가려는지 알려줌 (req.url)</li>
</ul>
<p data-v-29962fe6 data-v-29962fe6>middleware를 use하는 게 먼저 오고, 그 다음에 URL의 get이 와야 함<br data-v-29962fe6 data-v-29962fe6>
middleware를 위에다 두면, 모든 route에 적용<br data-v-29962fe6 data-v-29962fe6>
req.method, req.url : 어떤 method가 어느 url로 향하는지 알 수 있음<br data-v-29962fe6 data-v-29962fe6>
middleware를 app 전체에 어떤 url에서도 사용할 수 있도록 할 수도 있고, middleware 하나의 url에만 사용되게 할 수도 있음
어떤 middleware는 next 함수를 호출하고, 어떤 middleware는 res.send를 사용</p>
<div class="nuxt-content-highlight" data-v-29962fe6 data-v-29962fe6><pre data-v-29962fe6 data-v-29962fe6><code class="hljs js" data-v-29962fe6 data-v-29962fe6><span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>logger</span> = (<span class="hljs-params" data-v-29962fe6 data-v-29962fe6>req, res, next</span>) => {
  <span class="hljs-variable language_" data-v-29962fe6 data-v-29962fe6>console</span>.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>log</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>`<span class="hljs-subst" data-v-29962fe6 data-v-29962fe6>${req.method}</span> <span class="hljs-subst" data-v-29962fe6 data-v-29962fe6>${req.url}</span>`</span>);
  <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>next</span>();
};

<span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>privateMiddleware</span> = (<span class="hljs-params" data-v-29962fe6 data-v-29962fe6>req, res, next</span>) => {
  <span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> url = req.<span class="hljs-property" data-v-29962fe6 data-v-29962fe6>url</span>;
  <span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>if</span> (url === <span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"/protected"</span>) {
    <span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>return</span> res.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>send</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"&lt;h1>Not Allowed&lt;/h1>"</span>);
  }
  <span class="hljs-variable language_" data-v-29962fe6 data-v-29962fe6>console</span>.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>log</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"Allowed, you may continue"</span>);
  <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>next</span>();
};

<span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>handleProtected</span> = (<span class="hljs-params" data-v-29962fe6 data-v-29962fe6>req, res</span>) => {
  <span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>return</span> res.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>send</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"Welcome to the private lounge."</span>);
};

app.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>use</span>(logger);
app.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>use</span>(privateMiddleware);
app.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>get</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"/protected"</span>, handleProtected);
</code></pre></div>
<p data-v-29962fe6 data-v-29962fe6>req.path도 사용 가능</p>
<h2 id="external-middlewares" data-v-29962fe6 data-v-29962fe6><a aria-hidden="true" href="#external-middlewares" tabindex="-1" data-v-29962fe6 data-v-29962fe6><span class="icon icon-link" data-v-29962fe6 data-v-29962fe6></span></a>External Middlewares</h2>
<p data-v-29962fe6 data-v-29962fe6>morgan</p>
<div class="nuxt-content-highlight" data-v-29962fe6 data-v-29962fe6><pre data-v-29962fe6 data-v-29962fe6><code class="hljs cmd" data-v-29962fe6 data-v-29962fe6>npm i morgan
</code></pre></div>
<ul data-v-29962fe6 data-v-29962fe6>
<li data-v-29962fe6 data-v-29962fe6>dev : GET, path, status code 정보를 가지고 있음</li>
<li data-v-29962fe6 data-v-29962fe6>combined : 시간, method, http 버전, 사용중인 브라우저, os 등</li>
<li data-v-29962fe6 data-v-29962fe6>common</li>
<li data-v-29962fe6 data-v-29962fe6>short</li>
<li data-v-29962fe6 data-v-29962fe6>tiny</li>
</ul>
<div class="nuxt-content-highlight" data-v-29962fe6 data-v-29962fe6><pre data-v-29962fe6 data-v-29962fe6><code class="hljs js" data-v-29962fe6 data-v-29962fe6><span class="hljs-keyword" data-v-29962fe6 data-v-29962fe6>const</span> logger = <span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>morgan</span>(<span class="hljs-string" data-v-29962fe6 data-v-29962fe6>"dev"</span>);
app.<span class="hljs-title function_" data-v-29962fe6 data-v-29962fe6>use</span>(logger);
</code></pre></div></div> <footer data-v-29962fe6><a href="/2-express-220401-setup" data-v-29962fe6>← 환경 설정</a> <a href="/2-express-220403-router" data-v-29962fe6>라우터(Router) →</a></footer></section></main></div></div></div><script defer src="/_nuxt/static/1649105225/2-express-220402-server/state.js"></script><script src="/_nuxt/0d858e3.js" defer></script><script src="/_nuxt/58ef95b.js" defer></script><script src="/_nuxt/960bec5.js" defer></script><script src="/_nuxt/b5af4e1.js" defer></script><script src="/_nuxt/0bac3da.js" defer></script>
  </body>
</html>
